# ThreeDoors Architecture Document

## Table of Contents

- [ThreeDoors Architecture Document](#table-of-contents)
  - [Table of Contents](./table-of-contents.md)
  - [Introduction](./introduction.md)
    - [Starter Template or Existing Project](./introduction.md#starter-template-or-existing-project)
    - [Change Log](./introduction.md#change-log)
  - [High Level Architecture](./high-level-architecture.md)
    - [Technical Summary](./high-level-architecture.md#technical-summary)
    - [High Level Overview](./high-level-architecture.md#high-level-overview)
    - [High Level Project Diagram](./high-level-architecture.md#high-level-project-diagram)
    - [Architectural and Design Patterns](./high-level-architecture.md#architectural-and-design-patterns)
  - [Tech Stack](./tech-stack.md)
    - [Cloud Infrastructure](./tech-stack.md#cloud-infrastructure)
    - [Technology Stack Table](./tech-stack.md#technology-stack-table)
    - [Makefile Targets](./tech-stack.md#makefile-targets)
  - [Data Models](./data-models.md)
    - [TaskStatus (Enum)](./data-models.md#taskstatus-enum)
    - [Task](./data-models.md#task)
    - [TaskNote](./data-models.md#tasknote)
    - [Config](./data-models.md#config)
    - [TaskPool](./data-models.md#taskpool)
    - [DoorSelection](./data-models.md#doorselection)
    - [Data Model Diagram](./data-models.md#data-model-diagram)
  - [Components](./components.md)
    - [Component Overview](./components.md#component-overview)
    - [TUI Layer Components](./components.md#tui-layer-components)
      - [Component: DoorsView (Three Doors Display)](./components.md#component-doorsview-three-doors-display)
      - [Component: TaskDetailView](./components.md#component-taskdetailview)
      - [Component: StatusUpdateMenu](./components.md#component-statusupdatemenu)
      - [Component: NotesInputView](./components.md#component-notesinputview)
      - [Component: MainModel (Root Bubbletea Model)](./components.md#component-mainmodel-root-bubbletea-model)
    - [Domain Layer Components](./components.md#domain-layer-components)
      - [Component: FileManager](./components.md#component-filemanager)
      - [Component: TaskPool](./components.md#component-taskpool)
      - [Component: StatusManager](./components.md#component-statusmanager)
      - [Component: DoorSelector](./components.md#component-doorselector)
    - [Component Interaction Diagram](./components.md#component-interaction-diagram)
  - [Core Workflows](./core-workflows.md)
    - [Workflow 1: Application Startup & Three Doors Display](./core-workflows.md#workflow-1-application-startup-three-doors-display)
    - [Workflow 2: Select Door & Enter Task Detail View](./core-workflows.md#workflow-2-select-door-enter-task-detail-view)
    - [Workflow 3: Update Task Status](./core-workflows.md#workflow-3-update-task-status)
    - [Workflow 4: Add Progress Note](./core-workflows.md#workflow-4-add-progress-note)
    - [Workflow 5: Complete Task & Return to Doors](./core-workflows.md#workflow-5-complete-task-return-to-doors)
    - [Workflow 6: Mark Task as Blocked](./core-workflows.md#workflow-6-mark-task-as-blocked)
  - [External APIs](./external-apis.md)
  - [REST API Spec](./rest-api-spec.md)
  - [Data Storage Schema](./data-storage-schema.md)
    - [tasks.yaml Schema](./data-storage-schema.md#tasksyaml-schema)
    - [completed.txt Schema](./data-storage-schema.md#completedtxt-schema)
  - [Source Tree](./source-tree.md)
  - [Infrastructure and Deployment](./infrastructure-and-deployment.md)
    - [Infrastructure as Code](./infrastructure-and-deployment.md#infrastructure-as-code)
    - [Deployment Strategy](./infrastructure-and-deployment.md#deployment-strategy)
    - [Environments](./infrastructure-and-deployment.md#environments)
    - [Rollback Strategy](./infrastructure-and-deployment.md#rollback-strategy)
  - [Error Handling Strategy](./error-handling-strategy.md)
    - [General Approach](./error-handling-strategy.md#general-approach)
    - [Logging Standards](./error-handling-strategy.md#logging-standards)
    - [Error Handling Patterns](./error-handling-strategy.md#error-handling-patterns)
      - [File I/O Errors](./error-handling-strategy.md#file-io-errors)
      - [YAML Parsing Errors](./error-handling-strategy.md#yaml-parsing-errors)
      - [Status Transition Errors](./error-handling-strategy.md#status-transition-errors)
      - [Atomic Write Failures](./error-handling-strategy.md#atomic-write-failures)
    - [Error Message Guidelines](./error-handling-strategy.md#error-message-guidelines)
  - [Coding Standards](./coding-standards.md)
    - [Core Standards](./coding-standards.md#core-standards)
    - [Naming Conventions](./coding-standards.md#naming-conventions)
    - [Critical Rules](./coding-standards.md#critical-rules)
    - [Atomic Write Pattern Checklist](./coding-standards.md#atomic-write-pattern-checklist)
  - [Test Strategy and Standards](./test-strategy-and-standards.md)
    - [Testing Philosophy](./test-strategy-and-standards.md#testing-philosophy)
    - [Test Types](./test-strategy-and-standards.md#test-types)
      - [Unit Tests](./test-strategy-and-standards.md#unit-tests)
      - [Integration Tests](./test-strategy-and-standards.md#integration-tests)
      - [Manual Testing (TUI)](./test-strategy-and-standards.md#manual-testing-tui)
    - [Test Data Management](./test-strategy-and-standards.md#test-data-management)
  - [Security](./security.md)
    - [Input Validation](./security.md#input-validation)
    - [Authentication & Authorization](./security.md#authentication-authorization)
    - [Secrets Management](./security.md#secrets-management)
    - [Data Protection](./security.md#data-protection)
    - [Dependency Security](./security.md#dependency-security)
    - [Security Checklist](./security.md#security-checklist)
  - [Checklist Results Report](./checklist-results-report.md)
    - [Executive Summary](./checklist-results-report.md#executive-summary)
    - [Section Pass Rates](./checklist-results-report.md#section-pass-rates)
    - [Key Strengths](./checklist-results-report.md#key-strengths)
    - [Improvements Made (v1.1)](./checklist-results-report.md#improvements-made-v11)
    - [Recommendations](./checklist-results-report.md#recommendations)
    - [Final Verdict](./checklist-results-report.md#final-verdict)
  - [Next Steps](./next-steps.md)
    - [Immediate Next Steps: Begin Technical Demo Implementation](./next-steps.md#immediate-next-steps-begin-technical-demo-implementation)
    - [Updated Epic 1 Story Breakdown](./next-steps.md#updated-epic-1-story-breakdown)
      - [Story 1.1: Project Setup & Basic Bubbletea App](./next-steps.md#story-11-project-setup-basic-bubbletea-app)
      - [Story 1.2: Data Models & YAML Schema](./next-steps.md#story-12-data-models-yaml-schema)
      - [Story 1.3: File I/O & YAML Parsing](./next-steps.md#story-13-file-io-yaml-parsing)
      - [Story 1.4: Task Pool & Door Selection](./next-steps.md#story-14-task-pool-door-selection)
      - [Story 1.5: Three Doors Display (DoorsView)](./next-steps.md#story-15-three-doors-display-doorsview)
      - [Story 1.6: Door Refresh Mechanism](./next-steps.md#story-16-door-refresh-mechanism)
      - [Story 1.7: Task Detail View](./next-steps.md#story-17-task-detail-view)
      - [Story 1.8: Status Update Menu](./next-steps.md#story-18-status-update-menu)
      - [Story 1.9: Notes Input](./next-steps.md#story-19-notes-input)
      - [Story 1.10: Blocker Input](./next-steps.md#story-110-blocker-input)
      - [Story 1.11: Task Completion Flow](./next-steps.md#story-111-task-completion-flow)
      - [Story 1.12: Integration & Polish](./next-steps.md#story-112-integration-polish)
    - [Updated Time Estimate](./next-steps.md#updated-time-estimate)
    - [Development Approach](./next-steps.md#development-approach)
    - [Post-Validation Decision Gate](./next-steps.md#post-validation-decision-gate)
    - [Quick Start Commands](./next-steps.md#quick-start-commands)
